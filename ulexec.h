void *map_file(char *filename);
void error_msg(char *msg);
void print_address(char *phrase, void *address);
void *load_elf(char *mapped, int anywhere, Elf32_Ehdr **elf, Elf32_Ehdr **ldso);
void unmap(char *progname);
void copy_in(char *progname, void *address);

#define ROUNDUP(x, y)   ((((x)+((y)-1))/(y))*(y))
#define ALIGN(k, v) (((k)+((v)-1))&(~((v)-1)))
#define ALIGNDOWN(k, v) ((unsigned long)(k)&(~((unsigned long)(v)-1)))

struct saved_block {
	int size;
	int cnt;
	char *block;
};

void release_args(struct saved_block *args);
struct saved_block *save_elfauxv(char **envp);
struct saved_block *save_argv(int argc, char **argv);
void *stack_setup(
    struct saved_block *args,
    struct saved_block *envp,
    struct saved_block *auxvp,
    Elf32_Ehdr *ehdr,
    Elf32_Ehdr *ldso
);



